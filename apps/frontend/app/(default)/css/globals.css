@import 'tailwindcss';
@import 'tw-animate-css';

@keyframes gradient {
  to {
    background-position: 200% center;
  }
}

:root {
  --font-sans: 'Inter', sans-serif;
  --font-serif: 'Merriweather', serif;
  --font-mono: 'JetBrains Mono', monospace;
}

@layer base {
  * {
    @apply border-black;
  }
  body {
    @apply bg-[#F0F0E8] text-black font-sans;
  }
}

@media print {
  html,
  body {
    background: #ffffff !important;
    color: #000000 !important;
  }

  body * {
    visibility: hidden !important;
  }

  .no-print {
    display: none !important;
  }

  .resume-print,
  .resume-print *,
  .cover-letter-print,
  .cover-letter-print * {
    visibility: visible !important;
  }

  .resume-print,
  .cover-letter-print {
    width: 100% !important;
    max-width: 210mm !important;
    min-height: 0 !important;
    position: static !important;
    margin: 0 auto !important;
    border: none !important;
    box-shadow: none !important;
    background: #ffffff !important;
  }

  .resume-body {
    box-shadow: none !important;
    background: #ffffff !important;
  }

  .resume-body .resume-section-title,
  .resume-body .resume-section-title-sm {
    border-bottom-color: #9ca3af !important;
    break-after: avoid !important;
    page-break-after: avoid !important;
  }

  /* Reinforce page break rules in print - only for individual items */
  .resume-body .resume-item {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }

  /* Keep section header with first content in print */
  .resume-body .resume-section-title + .resume-items > *:first-child,
  .resume-body .resume-section-title-sm + .resume-items > *:first-child,
  .resume-body .resume-section-title + p,
  .resume-body .resume-section-title-sm + p,
  .resume-body .resume-section-title + ul,
  .resume-body .resume-section-title-sm + ul,
  .resume-body .resume-section-title + .resume-item,
  .resume-body .resume-section-title-sm + .resume-item {
    break-before: avoid !important;
    page-break-before: avoid !important;
  }
}

/* ============================================
   PAGE BREAK CONTROL
   Prevents individual items from being split
   across pages during PDF generation.
   NOTE: Sections CAN span pages - only individual
   items (job entries, project entries) stay together.
   ============================================ */

/* Individual items should stay together (job entries, projects, etc.) */
.resume-body .resume-item {
  break-inside: avoid;
  page-break-inside: avoid;
}

/* Section titles should not be orphaned at bottom of page */
.resume-body .resume-section-title,
.resume-body .resume-section-title-sm {
  break-after: avoid;
  page-break-after: avoid;
  /* Ensure at least 3 lines of content follow the header before a page break */
  orphans: 3;
  widows: 3;
}

/* Keep section header together with its first item */
.resume-body .resume-section {
  break-inside: auto; /* Allow sections to span pages */
}

/* Ensure the header + first content element stay together */
.resume-body .resume-section-title + .resume-items > *:first-child,
.resume-body .resume-section-title-sm + .resume-items > *:first-child,
.resume-body .resume-section-title + p,
.resume-body .resume-section-title-sm + p,
.resume-body .resume-section-title + ul,
.resume-body .resume-section-title-sm + ul,
.resume-body .resume-section-title + .resume-item,
.resume-body .resume-section-title-sm + .resume-item {
  break-before: avoid;
  page-break-before: avoid;
}

/* Generic no-break class for any element */
.resume-body [data-no-break] {
  break-inside: avoid;
  page-break-inside: avoid;
}

/* Print-specific overrides for resume templates */
@media print {
  .resume-body {
    padding: var(--margin-top) var(--margin-right) var(--margin-bottom) var(--margin-left) !important;
  }

  .resume-body .resume-section-title,
  .resume-body .resume-section-title-sm {
    border-bottom-color: #9ca3af !important;
    break-after: avoid !important;
    page-break-after: avoid !important;
  }

  /* Reinforce page break rules in print - only for individual items */
  .resume-body .resume-item {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }

  /* Keep section header with first content in print */
  .resume-body .resume-section-title + .resume-items > *:first-child,
  .resume-body .resume-section-title-sm + .resume-items > *:first-child,
  .resume-body .resume-section-title + p,
  .resume-body .resume-section-title-sm + p,
  .resume-body .resume-section-title + ul,
  .resume-body .resume-section-title-sm + ul,
  .resume-body .resume-section-title + .resume-item,
  .resume-body .resume-section-title-sm + .resume-item {
    break-before: avoid !important;
    page-break-before: avoid !important;
  }
}
